<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	 <link rel="stylesheet" type="text/css" href="css.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />

	<title>Registration</title>
</head>
<body>
	<div class="tittle_login">
		<h1>REGISTRATION</h1>
		<div class="form_login">
			<form method="POST" action="">
				<div class="tempelate">
					<label for="username">UserName</label><BR>
						<input type="username" name="username" id="username">

				</div>
				<div class="template">
					
					<label for="email">Email</label><BR>
				<input type="email" name="email" id="email">
			    </div>
			    <div class="template">
				<label for="password1">Password</label><BR>
				<input type="password" name="password" id="password2">
			    </div>
				<div class="template">
					<label for="password1">Confirm Password</label><BR>
					<input type="password" name="password2" id="password2">
					</div>
			    <div class="template">
			    	<button id="signup">REGISTER</button>
			    </div>
			    <P>Already have an account?<a href="login.html">Login</a></P>
				</div>
			</form>
		</div>
	</div>
	
</body>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
  import {getAuth, createUserWithEmailAndPassword  } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries
  import {getDatabase,set,ref  } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDZbXENa7PF480WzWMI-ffxj-ZTOxdLVYA",
    authDomain: "timetable-8d731.firebaseapp.com",
    projectId: "timetable-8d731",
    storageBucket: "timetable-8d731.appspot.com",
    messagingSenderId: "29970017699",
    appId: "1:29970017699:web:0c9b00e52271d57d7f7e16"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth();
  const db=getDatabase(app)

  signup.addEventListener('click',(e)=>{

  	var email=document.getElementById('email').value
  	var password=document.getElementById('password').value

			createUserWithEmailAndPassword(auth, email, password)
			  .then((userCredential) => {
			    // Signed up 
			    const user = userCredential.user;
			     set(ref(db, 'users/' + user.uid), {
					    email: email,
					    password: password
					  })
							  console.log('data saved successfully')
							
    
			  })
			  .catch((error) => {
			    const errorCode = error.code;
			    const errorMessage = error.message;
			    alert('errorMessage')
			    // ..
			  })


  })

</script>
</html>